--- Makefile.old	2025-10-28 12:02:11.257852584 +0300
+++ Makefile	2025-10-28 12:02:39.576373419 +0300
@@ -11,14 +11,9 @@
 # on another platform, change env_posix.os in MONGO_OBJS with the appropriate
 # environment object file.
 #
-LIBJSON = json-c
-LIBJSON_OBJS =  $(LIBJSON)/json_util.o $(LIBJSON)/json_object.o $(LIBJSON)/json_tokener.o \
-                                $(LIBJSON)/json_object_iterator.o $(LIBJSON)/printbuf.o $(LIBJSON)/linkhash.o \
-                                $(LIBJSON)/arraylist.o $(LIBJSON)/random_seed.o $(LIBJSON)/debug.o $(LIBJSON)/strerror_override.o
-
 MONGO_INCLUDE = $(shell pkg-config --cflags libmongoc-1.0)
 PG_CPPFLAGS = --std=c99 $(MONGO_INCLUDE) -I$(LIBJSON)
-SHLIB_LINK = $(shell pkg-config --libs libmongoc-1.0)
+SHLIB_LINK = $(shell pkg-config --libs libmongoc-1.0 json-c)
 
 OBJS = connection.o option.o mongo_wrapper.o mongo_fdw.o mongo_query.o deparse.o $(LIBJSON_OBJS)
 
